<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Kate's Hub</title>
<meta name="color-scheme" content="light dark">
<style>
:root{
  --c1:#3b82f6; --c2:#9333ea;
  --bg:#ffffff;         /* light mode background */
  --ink:#0b1220;        /* light mode text */
}

*{box-sizing:border-box}
html,body{height:100%;margin:0}

/* Base (LIGHT MODE) */
body{
  display:grid;place-items:center;
  background:var(--bg);
  color:var(--ink);
  font:16px system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  padding:24px;
}
.card{
  width:min(720px,96vw);border-radius:20px;padding:28px 22px;
  background:linear-gradient(180deg,#ffffff,#f6fbff);
  box-shadow:0 10px 36px rgba(0,0,0,.15);border:1px solid #e8eef7;
}
h1{margin:0 0 10px;font-size:28px;font-weight:800}
p{margin:6px 0 16px}
.joke{font-size:18px;margin:8px 0 0 0;min-height:1.6em;
  color:var(--ink);font-weight:600}

/* Buttons */
.btn{
  display:inline-block;text-align:center;width:100%;
  font-size:16px;padding:12px 14px;border-radius:12px;border:0;
  background:linear-gradient(135deg,var(--c1),var(--c2));
  color:#ffffff !important;                 /* white text on gradient */
  -webkit-text-fill-color:#ffffff;          /* stop iOS tinting */
  box-shadow:0 4px 14px rgba(59,130,246,.35);
  text-decoration:none;cursor:pointer;
  -webkit-appearance:none; appearance:none; /* avoid iOS button quirks */
}
.btn:active{transform:translateY(1px)}
/* Light ‚Äúlow‚Äù button: readable in LIGHT mode */
.low{
  background:#eef2ff; color:#111827 !important;
  -webkit-text-fill-color:#111827;
  box-shadow:none;border:1px solid #e5e7eb;
}

/* DARK MODE overrides */
@media (prefers-color-scheme: dark){
  :root{ --bg:#0b1220; --ink:#ffffff; }

  body, h1, p, .joke, .tiny{
    color:#ffffff !important;
    -webkit-text-fill-color:#ffffff;      /* kill lavender tint */
  }

  .card{
    background:#0f172a;
    border-color:#1f2937;
    box-shadow:0 10px 36px rgba(0,0,0,.5);
  }

  /* Buttons stay white text */
  .btn{
    color:#ffffff !important;
    -webkit-text-fill-color:#ffffff;
  }

  /* Dark ‚Äúlow‚Äù button: readable in DARK mode */
  .low{
    background:#1f2937;
    color:#ffffff !important;
    -webkit-text-fill-color:#ffffff;
    border-color:#334155;
  }
}

/* Layout helpers (unchanged) */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
.row{displa

 


  *{box-sizing:border-box}
  html,body{height:100%;margin:0}
  body{display:grid;place-items:center;background:var(--bg);color:var(--ink);
       font:16px system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
       padding:24px}
  .card{width:min(720px,96vw);border-radius:20px;padding:28px 22px;
        background:linear-gradient(180deg,#ffffff,#f6fbff);
        box-shadow:0 10px 36px rgba(0,0,0,.15);border:1px solid #e8eef7}
  h1{margin:0 0 10px;font-size:28px;font-weight:800}
p{margin:6px 0 16px}
.joke{font-size:18px;margin:8px 0 0 0;min-height:1.6em;color:var(--ink);font-weight:600}

  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
  .btn{display:inline-block;text-align:center;width:100%;
       font-size:16px;padding:12px 14px;border-radius:12px;border:0;
       background:linear-gradient(135deg,var(--c1),var(--c2));color:white;
       box-shadow:0 4px 14px rgba(59,130,246,.35);text-decoration:none;cursor:pointer}
  .btn:active{transform:translateY(1px)}
  .low{background:#eef2ff;color:#111827;box-shadow:none;border:1px solid #e5e7eb}
  .row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
  .joke{font-size:18px;margin:8px 0 0 0;min-height:1.6em;color:var(--ink);font-weight:600}
  .tiny{font-size:12px;opacity:.7;margin-top:12px}
  .divider{height:1px;background:#e8eef7;margin:14px 0}
</style>
</head>
<body>
<div class="card">
  <h1>‚ú® Kate's Hub ‚ú®</h1>
  <p>Pick something fun!<br> (Audio may need one tap on iPhone.)</p>

  <div class="grid" style="margin-top:10px">
    <button class="btn" id="tellJoke">üé§ Tell a better joke</button>
    <button class="btn" id="doorbell">üîî Doorbell</button>
    <a class="btn" id="wa" href="#">üí¨ WhatsApp</a>
    <a class="btn" id="sms" href="#">üì± Text</a>
    <a class="btn" id="call" href="#">üìû Call</a>
    <a class="btn" id="email" href="#">‚úâÔ∏è Email</a>
    <a class="btn low" id="rick" href="https://youtu.be/dQw4w9WgXcQ">üéµ Surprise me</a>
  </div>

  <div class="divider"></div>

  <div id="joke" class="joke"></div>
 



<script>
// ===== CONFIG: set your details here =====
const MOBILE_E164 = "+447379044316"; // Your mobile in +44 format
const EMAIL = "kate@sussexautos.com";    // Your email
const SUBJECT = "SUMMON BASILüê∂üêï";
const MSG = "Hi Kate ‚Äî Is Basil Here?!";
// =========================================

// Curated short, punchy, mostly clean jokes
const jokes=[
  "I asked my dog what two minus two is. He said nothing.",
  "I only know 25 letters of the alphabet. I don‚Äôt know y.",
  "What do you call fake spaghetti? An impasta.",
  "I used to play piano by ear. Now I use my hands.",
  "I told my suitcases there will be no vacation this year. Now I‚Äôm dealing with emotional baggage.",
  "I ordered a chicken and an egg from Amazon. I‚Äôll let you know.",
  "Why can‚Äôt a nose be 12 inches long? Then it would be a foot.",
  "I don‚Äôt trust stairs. They‚Äôre always up to something.",
  "I told a joke about a roof. It went over their heads.",
  "How does the moon cut his hair? Eclipse it.",
  "I gave all my dead batteries away. Free of charge.",
  "Why did the scarecrow win an award? He was outstanding in his field.",
  "I‚Äôm reading a book about anti-gravity. It‚Äôs impossible to put down.",
  "Parallel lines have so much in common. It‚Äôs a shame they‚Äôll never meet.",
  "Why did the math book look sad? Too many problems.",
  "I used to be addicted to soap. I‚Äôm clean now.",
  "I had a joke about construction, but I‚Äôm still working on it.",
  "What do you call a belt made of watches? A waist of time.",
  "Singing in the shower is fun until you get soap in your mouth. Then it‚Äôs a soap opera.",
  "I stayed up all night to see where the sun went, and then it dawned on me.",
  "The rotation of Earth really makes my day.",
  "I told my computer I needed a break, and it said: no problem ‚Äî I‚Äôll go to sleep.",
  "I used to be a baker, then I couldn‚Äôt make enough dough.",
  "What do you call cheese that isn‚Äôt yours? Nacho cheese.",
  "I got hit in the head with a can of soda. Luckily it was a soft drink.",
  "I‚Äôd tell you a Fibonacci joke, but it‚Äôs probably as bad as the last two you heard combined.",
  "I‚Äôm on a seafood diet. I see food and I eat it.",
  "Why don‚Äôt skeletons fight each other? They don‚Äôt have the guts.",
  "I tried to catch fog yesterday. Mist.",
  "Two antennas met on a roof, fell in love, and got married. The ceremony wasn‚Äôt much, but the reception was excellent.",
  "I told my wife she should embrace her mistakes. She gave me a hug.",
  "I used to hate facial hair‚Ä¶ but then it grew on me.",
  "What do you call a factory that makes okay products? A satisfactory.",
  "I‚Äôm so good at sleeping I can do it with my eyes closed.",
  "Want to hear a construction joke? Sorry, I‚Äôm still working on it.",
  "Why did the coffee file a police report? It got mugged.",
  "What do you call a fish with no eyes? Fsh.",
  "What do you call a pile of cats? A meowtain.",
  "I once got fired from a calendar factory. I took a day off.",
  "I used to be indecisive. Now I‚Äôm not so sure.",
  "Why did the golfer bring two pairs of pants? In case he got a hole in one."
];

const jokeEl = document.getElementById('joke');
function speak(text){
  try{ speechSynthesis.cancel(); }catch(e){}
  try{
    const u = new SpeechSynthesisUtterance(text);
    u.rate = 1; u.pitch = 1;
    speechSynthesis.speak(u);
  }catch(e){}
}
function tellJoke(){ const j = jokes[Math.floor(Math.random()*jokes.length)]; jokeEl.textContent = j; speak(j); }
document.getElementById('tellJoke').addEventListener('click', tellJoke);

// Try to auto-joke on load (Android may allow); show text even if audio blocked
window.addEventListener('load', ()=>{ const j = jokes[Math.floor(Math.random()*jokes.length)]; jokeEl.textContent = j; speak(j); });

// ===== Robust iPhone-friendly doorbell =====
let audioCtx = null;
let lastTouch = 0;

function ensureAudio(){
  // Create or resume the context inside the gesture
  audioCtx = audioCtx || new (window.AudioContext || window.webkitAudioContext)({latencyHint:'interactive'});
  if (audioCtx.state !== 'running') {
    return audioCtx.resume().catch(()=>{});
  }
  return Promise.resolve();
}

function beep(){
  ensureAudio().then(()=>{
    if (!audioCtx) return;
    const sr = audioCtx.sampleRate;

    // Build a short double-ding buffer that's nice and audible
    const dur = 0.45;                // seconds
    const frames = Math.floor(sr * dur);
    const buf = audioCtx.createBuffer(1, frames, sr);
    const data = buf.getChannelData(0);

    for (let i = 0; i < frames; i++){
      const t = i / sr;
      let f = 0, a = 0;
      if (t < 0.18) {                // Ding 1 (A5 ~ 880 Hz)
        f = 880;
        a = t < 0.02 ? (t/0.02) : Math.exp(-6*(t-0.02));
      } else if (t >= 0.22 && t < 0.40) { // Ding 2 (D6 ~ 1175 Hz)
        f = 1175;
        a = Math.exp(-6*(t-0.22));
      }
      data[i] = a * Math.sin(2 * Math.PI * f * t);
    }

    const src = audioCtx.createBufferSource();
    src.buffer = buf;
    const gain = audioCtx.createGain();
    gain.gain.value = 0.9;           // louder but not clipping
    src.connect(gain).connect(audioCtx.destination);
    src.start();

    // Tiny haptic hint if available
    if (navigator.vibrate) { try { navigator.vibrate([35, 35]); } catch(e) {} }
  });
}

function handleBell(ev){
  const now = Date.now();
  if (ev.type === 'touchstart') lastTouch = now;
  // prevent duplicate click after touch on iOS
  if (ev.type === 'click' && now - lastTouch < 400) return;
  ev.preventDefault && ev.preventDefault();
  beep();
}

const bellBtn = document.getElementById('doorbell');
bellBtn.addEventListener('touchstart', handleBell, {passive:false});
bellBtn.addEventListener('click', handleBell);

// Links
document.getElementById('wa').href   = "https://wa.me/" + MOBILE_E164.replace("+","") + "?text=" + encodeURIComponent(MSG);
document.getElementById('sms').href  = "sms:" + MOBILE_E164 + "?&body=" + encodeURIComponent(MSG);
document.getElementById('call').href = "tel:" + MOBILE_E164;
document.getElementById('email').href= "mailto:" + encodeURIComponent(EMAIL) + "?subject=" + encodeURIComponent(SUBJECT) + "&body=" + encodeURIComponent(MSG);
</script>


</body>
</html>
